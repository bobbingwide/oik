(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,a=window.React,l=window.wp.i18n;function o(e){var t,a,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(a=o(e[t]))&&(l&&(l+=" "),l+=a)}else for(a in e)e[a]&&(l&&(l+=" "),l+=a);return l}const n=function(){for(var e,t,a=0,l="",n=arguments.length;a<n;a++)(e=arguments[a])&&(t=o(e))&&(l&&(l+=" "),l+=t);return l},r=window.wp.blockEditor,s=window.wp.serverSideRender;var p=e.n(s);const i=window.wp.components,c=window.wp.element,u=window.lodash,m={bw_attachments:"Attachments - List attachments with links",bw_images:"Images - Display attached images",bw_list:"List - Simple list of pages/posts or custom post types",bw_pages:"Pages - Display page thumbnails and excerpts as links",bw_pdf:"PDFs - Display attached PDF files",bw_related:"Display related content",bw_table:"Display custom post data in a tabular form",bw_testimonials:"Display testimonials",bw_thumbs:"List pages as fluid thumbnail links",bw_tree:"Simple tree of pages/posts or custom post types"},{RangeControl:b}=wp.components,{Component:d}=wp.element,{__}=wp.i18n,h=[{label:"Date",value:"date"},{label:"ID",value:"ID"},{label:"Title",value:"title"},{label:"Parent",value:"parent"},{label:"Random",value:"rand"},{label:"Menu order",value:"menu_order"}],v=[{label:__("Descending order"),value:"desc"},{label:__("Ascending order"),value:"asc"}],{Component:g,Fragment:w}=wp.element,{SelectControl:y,TextControl:f}=wp.components;class C extends g{constructor(){super(...arguments)}renderSelect(e){var t=`Custom value: ${this.props.label}`;return(0,a.createElement)(w,null,(0,a.createElement)(y,{label:this.props.label,value:this.props.value,options:this.props.options,onChange:this.props.onChange}),(0,a.createElement)(f,{label:t,hideLabelFromVision:!0,value:this.props.value,onChange:this.props.onChange}))}formatOption(e){return{value:e.value,label:e.label}}render(){return this.renderSelect()}}const E=[{label:"Link, image, excerpt, read more",value:"LIER"},{label:"Link, image",value:"LI"},{label:"Link, image, excerpt",value:"LIE"},{label:"Image, link",value:"IL"},{label:"Image, link, excerpt",value:"ILE"},{label:"Link, Image, Date, Author",value:"LI/d/a"}],{Component:k}=wp.element;class _ extends k{constructor(){super(...arguments),this.state={formats:E}}formatsSelect(e){return this.state.formats?(0,a.createElement)(C,{label:"Format",value:this.props.format,options:E,onChange:this.props.onChange}):(0,a.createElement)("p",null,"Loading formats")}formatOption(e){return{value:e.value,label:e.label}}render(){return this.formatsSelect()}}const{select:L,subscribe:T}=wp.data,{Component:D}=wp.element,{SelectControl:S}=wp.components;class I extends D{constructor(){super(...arguments),this.state={postTypes:[]}}componentDidMount(){T((()=>{const e=L("core").getPostTypes({per_page:-1});this.setState({postTypes:e})}))}postTypeList(){var e=this.state.postTypes;return e?(0,a.createElement)("ul",null,e.map((e=>this.postTypeMap(e)))):(0,a.createElement)("p",null,"Post type")}postTypeListSelect(e){var t=this.state.postTypes;if(t){var l=t.map((e=>this.postTypeOption(e)));return(0,a.createElement)(S,{label:"Post Type",value:this.props.postType,options:l,onChange:this.props.onChange})}return(0,a.createElement)("p",null,"Loading post types")}postTypeMap(e){return console.log(e),(0,a.createElement)("li",null,e.slug)}postTypeOption(e){return{value:e.slug,label:e.name}}render(){return this.postTypeListSelect()}}(0,t.registerBlockType)("oik/content-block",{edit:function(e){const{attributes:t,setAttributes:o,instanceId:s,focus:b,isSelected:d}=e,{textAlign:g,label:w}=e.attributes,y=(0,r.useBlockProps)({className:n({[`has-text-align-${g}`]:g})});function f(e,t){o({[e]:t})}return(0,a.createElement)(c.Fragment,null,(0,a.createElement)(r.InspectorControls,null,(0,a.createElement)(i.PanelBody,null,(0,a.createElement)(i.SelectControl,{label:"Display",value:t.shortcode,options:(0,u.map)(m,((e,t)=>({value:t,label:e+" - "+t}))),onChange:(0,u.partial)(f,"shortcode")}),(0,a.createElement)(I,{value:t.post_type,onChange:e=>{o({post_type:e})}}),(0,a.createElement)(C,{label:"Order by",value:t.orderby,options:h,onChange:e=>{o({orderby:e})}}),(0,a.createElement)(i.SelectControl,{label:"Order",value:t.order,options:v,onChange:e=>{o({order:e})}}),(0,a.createElement)(i.RangeControl,{label:"Number posts",value:t.numberposts,onChange:e=>{o({numberposts:e})},min:-1,max:100}),(0,a.createElement)(i.TextControl,{value:t.post_parent,onChange:e=>{o({post_parent:e})},label:"Post Parent"}),(0,a.createElement)(_,{value:t.format,onChange:e=>{o({format:e})}}),(0,a.createElement)(i.TextareaControl,{label:"Advanced Parameters",value:t.parameters,placeholder:(0,l.__)("Enter your advanced shortcode parameters"),onChange:e=>{o({parameters:e})},rows:"1"}))),(0,a.createElement)("div",{className:"wp-block-oik-block-shortcode wp-block-shortcode"},(0,a.createElement)(i.SelectControl,{label:"Display",value:t.shortcode,options:(0,u.map)(m,((e,t)=>({value:t,label:e+" - "+t}))),onChange:(0,u.partial)(f,"shortcode")})),(0,a.createElement)("div",{...y},(0,a.createElement)(p(),{block:"oik/content-block",attributes:t})))},save:({attributes:e})=>null})})();